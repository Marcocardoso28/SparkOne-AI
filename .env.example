# ============================================================================
# CONFIGURAÇÃO DO SPARKONE - ASSISTENTE IA ESPECIALISTA
# ============================================================================
# Este arquivo contém todas as variáveis de ambiente necessárias para
# configurar o SparkOne. Copie para .env e ajuste os valores conforme necessário.

# ============================================================================
# CONFIGURAÇÕES BÁSICAS DO SISTEMA
# ============================================================================

# Ambiente de execução: development, production ou test
ENVIRONMENT=development

# Ativar logs detalhados e modo debug (true/false)
DEBUG=true

# URL de conexão com PostgreSQL (banco principal + vetores)
# Formato: postgresql+asyncpg://usuario:senha@host:porta/database
DATABASE_URL=postgresql+asyncpg://sparkone:sparkone@db:5432/sparkone

# URL para armazenamento de vetores (embeddings)
VECTOR_STORE_URL=postgresql://sparkone:sparkone@db:5432/sparkone

# URL de conexão com Redis (cache e sessões)
REDIS_URL=redis://cache:6379/0

# ============================================================================
# PROVEDORES DE INTELIGÊNCIA ARTIFICIAL
# ============================================================================

# Chave da API OpenAI (obrigatória se usar OpenAI como provedor)
# Obtenha em: https://platform.openai.com/api-keys
# Exemplo: sk-proj-abc123...xyz789
OPENAI_API_KEY=

# Modelo OpenAI a ser utilizado (gpt-4o-mini, gpt-4, gpt-3.5-turbo)
OPENAI_MODEL=gpt-4o-mini

# URL para LLM local (opcional, alternativa ao OpenAI)
# Exemplo: http://localhost:11434 para Ollama
LOCAL_LLM_URL=

# Chave de API para LLM local (se necessário)
LOCAL_LLM_API_KEY=

# ============================================================================
# CONFIGURAÇÕES DE EMBEDDINGS (VETORIZAÇÃO)
# ============================================================================

# Provedor de embeddings: openai ou local
EMBEDDING_PROVIDER=openai

# Modelo de embedding da OpenAI
OPENAI_EMBEDDING_MODEL=text-embedding-3-large

# Modelo local de embedding (usado se EMBEDDING_PROVIDER=local)
LOCAL_EMBEDDING_MODEL=nomic-embed-text

# ============================================================================
# INTERFACE WEB E SEGURANÇA
# ============================================================================

# Senha para acessar a interface web (deixe vazio para desabilitar autenticação)
WEB_PASSWORD=sparkone-dev

# Diretório para uploads de arquivos
WEB_UPLOAD_DIR=uploads

# Tamanho máximo de upload em bytes (10MB = 10485760)
WEB_MAX_UPLOAD_SIZE=10485760

# Tempo de vida da sessão web em segundos (1800 = 30 minutos)
WEB_SESSION_TTL_SECONDS=1800

# Hosts permitidos (separados por vírgula, * para todos)
ALLOWED_HOSTS=*

# Origens CORS permitidas (separadas por vírgula, * para todas)
CORS_ORIGINS=*

# Métodos HTTP permitidos no CORS
CORS_ALLOW_METHODS=GET,POST,PUT,PATCH,DELETE,OPTIONS

# Cabeçalhos permitidos no CORS
CORS_ALLOW_HEADERS=Authorization,Content-Type,Accept

# ============================================================================
# INTEGRAÇÕES EXTERNAS
# ============================================================================

# Evolution API (WhatsApp Business)
# URL base da API Evolution
EVOLUTION_API_BASE_URL=https://api.evolution.example.com

# Chave de API da Evolution (obrigatória para WhatsApp)
# Obtenha no painel da Evolution API
# Exemplo: evo_abc123...xyz789
EVOLUTION_API_KEY=

# Notion (gerenciamento de tarefas e conhecimento)
# Chave de API do Notion (obtenha em: https://www.notion.so/my-integrations)
NOTION_API_KEY=

# ID do banco de dados Notion para armazenar informações
NOTION_DATABASE_ID=

# Google Sheets (sincronização de dados)
# ID da planilha Google Sheets
GOOGLE_SHEETS_SYNC_SPREADSHEET_ID=

# Intervalo de células na planilha (ex: A1:Z1000)
GOOGLE_SHEETS_SYNC_RANGE=

# Caminho para credenciais do Google Sheets (arquivo JSON)
GOOGLE_SHEETS_CREDENTIALS_PATH=/secrets/google_sheets.json

# Caminho para credenciais do Google Calendar (arquivo JSON)
GOOGLE_CALENDAR_CREDENTIALS_PATH=/secrets/google_calendar.json

# Provedor de calendário: none, google ou caldav
CALENDAR_PROVIDER=none

# Números WhatsApp para notificações (separados por vírgula)
WHATSAPP_NOTIFY_NUMBERS=

# Máximo de tentativas para envio WhatsApp
WHATSAPP_SEND_MAX_RETRIES=3

# E-mail de fallback para notificações críticas
FALLBACK_EMAIL=

# Configurações SMTP para envio de e-mails
SMTP_HOST=
SMTP_PORT=587
SMTP_USERNAME=
SMTP_PASSWORD=

# ============================================================================
# SEGURANÇA E OBSERVABILIDADE
# ============================================================================

# Habilitar HSTS (HTTP Strict Transport Security) - apenas em produção
SECURITY_HSTS_ENABLED=false

# Tempo máximo de HSTS em segundos (2 anos = 63072000)
SECURITY_HSTS_MAX_AGE=63072000

# Incluir subdomínios no HSTS
SECURITY_HSTS_INCLUDE_SUBDOMAINS=true

# Habilitar preload do HSTS
SECURITY_HSTS_PRELOAD=false

# Tamanho máximo do conteúdo para ingestão (caracteres)
INGESTION_MAX_CONTENT_LENGTH=6000
